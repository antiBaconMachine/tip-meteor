<head>
    <title>tip</title>
</head>

<body>

</body>

<template name="layout">
    <div id="container" >
        <header class="row-fluid">
            <h1 class="span12">
                TIP
            </h1>
            {{loginButtons align="right"}}
        </header>
        <section id="main" class="row-fluid">
            {{yield}}
        </section>
        <footer class="row-fluid">

        </footer>
    </div>
</template>

<template name="index">
    {{#if currentUser}}
        {{#if showCreateDialog}}
            {{> createDialog}}
        {{/if}}
        <a href="#" id="btnCreateGame" class="btn btn-large btn-primary">Create Game</a>
        {{> listGames }}
    {{else}}
        Please sign in to view or create games
    {{/if}}
</template>

<template name="listGames">
    <ul>
        {{#each games}}
        <li><a href="/game/{{_id}}">{{title}}</a></li>
        {{/each}}
    </ul>
</template>

<template name="showGame">
    <h2>{{title}}</h2>
    <ul id="players" class="">
        {{#each players}}
        <li>
            <span class="name">{{name}}</span>
            <span class="race">{{race.name}}</span>
        </li>
        {{/each}}
    </ul>
    <form id="addplayer" name="addPlayer" >
        <div class="">
            <label>{{screenName}}</label>
        </div>

        <label>Race</label>
        <div>
            {{#each raceSelection}}
                {{>raceCard}}
            {{/each}}
        </div>

    </form>
</template>

<template name="raceCard">
    <div id="raceCard" class="span4">
        <h3><a href="#" class="selectRace" data-raceId="{{_id}}" >{{name}}</a></h3>
        <div class="span5">
            <h4>Units</h4>
            <table class="startingUnits">

                {{#eachMapEntries startingUnits}}
                <tr>
                    <td>{{this.key}}</td>
                    <td>{{this.value}}</td>
                </tr>
                {{/eachMapEntries}}
            </table>
        </div>

        <div class="span6">
            <h4>Technologies</h4>
            <ul class="technologies">
                {{#each startingTechnologies}}
                <li>{{name}}</li>
                {{/each}}
            </ul>
        </div>

        <div class="span12">
            <h4>Abilities</h4>
            <ul class="abilities">
                {{#each specialAbilities}}
                <li>{{description}}</li>
                {{/each}}
            </ul>
        </div>

    </div>
</template>

<template name="createDialog">
    <div class="mask"> </div>
    <div class="modal">
        <div class="modal-header">
            <button type="button" class="close cancel">&times;</button>
            <h3>Add Game</h3>
        </div>

        <div class="modal-body">
            <label>Title</label>
            <input type="text" class="title span5">

            <label>Details</label>
            <textarea class="description span5"></textarea>
        </div>

        <div class="modal-footer">
            <a href="#" class="btn cancel">Cancel</a>
            <a href="#" class="btn btn-primary save">Add Game</a>
        </div>
    </div>
</template>